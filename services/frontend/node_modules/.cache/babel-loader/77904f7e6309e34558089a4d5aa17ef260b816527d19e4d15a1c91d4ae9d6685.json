{"ast":null,"code":"var _jsxFileName = \"/Users/yaswanthkumary/Documents/AI-ML/Build apps/ai-code-platform/services/frontend/src/components/ChatInterface.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useAuthStore } from '../stores/authStore';\nimport { useProjectStore } from '../stores/projectStore';\nimport { config } from '../config';\nimport toast from 'react-hot-toast';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport rehypeHighlight from 'rehype-highlight';\nimport 'highlight.js/styles/github-dark.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  const {\n    token\n  } = useAuthStore();\n  const {\n    currentProject,\n    getProjectStructure,\n    createFile,\n    updateFile\n  } = useProjectStore();\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSendMessage = async () => {\n    if (!message.trim() || isLoading) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      content: message,\n      role: 'user',\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setMessage('');\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${config.apiGatewayUrl}/api/chat`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMessage.content,\n          context: {\n            projectName: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.name) || 'Untitled Project',\n            projectStructure: getProjectStructure(),\n            currentFiles: (currentProject === null || currentProject === void 0 ? void 0 : currentProject.files) || []\n          }\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to send message');\n      }\n      const data = await response.json();\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        content: data.response,\n        role: 'assistant',\n        timestamp: new Date(),\n        files: data.files || []\n      };\n\n      // Process file changes from AI response\n      if (data.files && data.files.length > 0) {\n        data.files.forEach(file => {\n          if (file.type === 'create') {\n            createFile('/', file.path, 'file', file.content);\n          } else if (file.type === 'update') {\n            updateFile(file.path, file.content || '');\n          }\n        });\n      }\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Chat error:', error);\n      toast.error('Failed to send message. Please try again.');\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        content: 'Sorry, I encountered an error. Please try again.',\n        role: 'assistant',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const renderFileAction = file => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-blue-400\",\n          children: [file.type === 'create' && 'üìÑ Created', file.type === 'update' && '‚úèÔ∏è Updated', file.type === 'delete' && 'üóëÔ∏è Deleted']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-400\",\n          children: file.path\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), file.content && /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"text-xs bg-gray-900 p-2 rounded overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          className: `language-${file.language || 'text'}`,\n          children: file.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, file.path, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full bg-gray-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-gray-700 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-white\",\n        children: \"AI Assistant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-400\",\n        children: \"Chat with AI to build and modify your code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-auto p-4 space-y-4\",\n      children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-400 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl mb-4\",\n          children: \"\\uD83E\\uDD16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg mb-2\",\n          children: \"Welcome to AI Code Platform\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: \"Start a conversation to build amazing applications with AI assistance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this), messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-3xl ${msg.role === 'user' ? 'ml-12' : 'mr-12'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `px-4 py-3 rounded-lg ${msg.role === 'user' ? 'bg-blue-600 text-white' : 'bg-gray-800 text-white border border-gray-700'}`,\n            children: msg.role === 'assistant' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                remarkPlugins: [remarkGfm],\n                rehypePlugins: [rehypeHighlight],\n                className: \"prose prose-invert prose-sm max-w-none\",\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this), msg.files && msg.files.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-3\",\n                children: msg.files.map(renderFileAction)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"whitespace-pre-wrap\",\n              children: msg.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-xs text-gray-500 mt-1 ${msg.role === 'user' ? 'text-right' : 'text-left'}`,\n            children: msg.timestamp.toLocaleTimeString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-start\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-800 text-white border border-gray-700 px-4 py-3 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"AI is thinking...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-gray-700 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"Ask AI to help you build something amazing...\",\n          disabled: isLoading,\n          className: \"flex-1 px-3 py-2 border border-gray-600 bg-gray-800 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none min-h-[40px] max-h-32\",\n          rows: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          disabled: isLoading || !message.trim(),\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this) : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 mt-2\",\n        children: \"Press Enter to send, Shift+Enter for new line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"7ssjESQ4UFhX9E8phz1rm4bNyzU=\", false, function () {\n  return [useAuthStore, useProjectStore];\n});\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useAuthStore","useProjectStore","config","toast","ReactMarkdown","remarkGfm","rehypeHighlight","jsxDEV","_jsxDEV","ChatInterface","_s","token","currentProject","getProjectStructure","createFile","updateFile","message","setMessage","messages","setMessages","isLoading","setIsLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","id","Date","now","toString","content","role","timestamp","prev","response","fetch","apiGatewayUrl","method","headers","body","JSON","stringify","context","projectName","name","projectStructure","currentFiles","files","ok","Error","data","json","assistantMessage","length","forEach","file","type","path","error","console","errorMessage","handleKeyPress","e","key","shiftKey","preventDefault","renderFileAction","className","children","fileName","_jsxFileName","lineNumber","columnNumber","language","map","msg","remarkPlugins","rehypePlugins","toLocaleTimeString","ref","value","onChange","target","onKeyPress","placeholder","disabled","rows","onClick","_c","$RefreshReg$"],"sources":["/Users/yaswanthkumary/Documents/AI-ML/Build apps/ai-code-platform/services/frontend/src/components/ChatInterface.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useAuthStore } from '../stores/authStore';\nimport { useProjectStore } from '../stores/projectStore';\nimport { config } from '../config';\nimport toast from 'react-hot-toast';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport rehypeHighlight from 'rehype-highlight';\nimport 'highlight.js/styles/github-dark.css';\n\ninterface Message {\n  id: string;\n  content: string;\n  role: 'user' | 'assistant';\n  timestamp: Date;\n  files?: FileAction[];\n}\n\ninterface FileAction {\n  type: 'create' | 'update' | 'delete';\n  path: string;\n  content?: string;\n  language?: string;\n}\n\nconst ChatInterface: React.FC = () => {\n  const { token } = useAuthStore();\n  const { currentProject, getProjectStructure, createFile, updateFile } = useProjectStore();\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!message.trim() || isLoading) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      content: message,\n      role: 'user',\n      timestamp: new Date(),\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setMessage('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(`${config.apiGatewayUrl}/api/chat`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message: userMessage.content,\n          context: {\n            projectName: currentProject?.name || 'Untitled Project',\n            projectStructure: getProjectStructure(),\n            currentFiles: currentProject?.files || [],\n          },\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to send message');\n      }\n\n      const data = await response.json();\n      \n      const assistantMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        content: data.response,\n        role: 'assistant',\n        timestamp: new Date(),\n        files: data.files || [],\n      };\n\n      // Process file changes from AI response\n      if (data.files && data.files.length > 0) {\n        data.files.forEach((file: FileAction) => {\n          if (file.type === 'create') {\n            createFile('/', file.path, 'file', file.content);\n          } else if (file.type === 'update') {\n            updateFile(file.path, file.content || '');\n          }\n        });\n      }\n\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Chat error:', error);\n      toast.error('Failed to send message. Please try again.');\n      \n      const errorMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        content: 'Sorry, I encountered an error. Please try again.',\n        role: 'assistant',\n        timestamp: new Date(),\n      };\n      \n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const renderFileAction = (file: FileAction) => {\n    return (\n      <div key={file.path} className=\"mt-4 p-3 bg-gray-800 rounded-lg border border-gray-600\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <span className=\"text-sm font-medium text-blue-400\">\n            {file.type === 'create' && 'üìÑ Created'}\n            {file.type === 'update' && '‚úèÔ∏è Updated'}\n            {file.type === 'delete' && 'üóëÔ∏è Deleted'}\n          </span>\n          <span className=\"text-xs text-gray-400\">{file.path}</span>\n        </div>\n        {file.content && (\n          <pre className=\"text-xs bg-gray-900 p-2 rounded overflow-x-auto\">\n            <code className={`language-${file.language || 'text'}`}>\n              {file.content}\n            </code>\n          </pre>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col h-full bg-gray-900\">\n      {/* Chat Header */}\n      <div className=\"border-b border-gray-700 p-4\">\n        <h2 className=\"text-xl font-semibold text-white\">AI Assistant</h2>\n        <p className=\"text-sm text-gray-400\">Chat with AI to build and modify your code</p>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-auto p-4 space-y-4\">\n        {messages.length === 0 && (\n          <div className=\"text-center text-gray-400 mt-8\">\n            <div className=\"text-4xl mb-4\">ü§ñ</div>\n            <p className=\"text-lg mb-2\">Welcome to AI Code Platform</p>\n            <p className=\"text-sm\">Start a conversation to build amazing applications with AI assistance</p>\n          </div>\n        )}\n        \n        {messages.map((msg) => (\n          <div key={msg.id} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>\n            <div className={`max-w-3xl ${msg.role === 'user' ? 'ml-12' : 'mr-12'}`}>\n              <div className={`px-4 py-3 rounded-lg ${\n                msg.role === 'user'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-gray-800 text-white border border-gray-700'\n              }`}>\n                {msg.role === 'assistant' ? (\n                  <div>\n                    <ReactMarkdown\n                      remarkPlugins={[remarkGfm]}\n                      rehypePlugins={[rehypeHighlight]}\n                      className=\"prose prose-invert prose-sm max-w-none\"\n                    >\n                      {msg.content}\n                    </ReactMarkdown>\n                    {msg.files && msg.files.length > 0 && (\n                      <div className=\"mt-3\">\n                        {msg.files.map(renderFileAction)}\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"whitespace-pre-wrap\">{msg.content}</div>\n                )}\n              </div>\n              <div className={`text-xs text-gray-500 mt-1 ${msg.role === 'user' ? 'text-right' : 'text-left'}`}>\n                {msg.timestamp.toLocaleTimeString()}\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {isLoading && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-gray-800 text-white border border-gray-700 px-4 py-3 rounded-lg\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n                <span>AI is thinking...</span>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      <div className=\"border-t border-gray-700 p-4\">\n        <div className=\"flex space-x-2\">\n          <textarea\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Ask AI to help you build something amazing...\"\n            disabled={isLoading}\n            className=\"flex-1 px-3 py-2 border border-gray-600 bg-gray-800 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none min-h-[40px] max-h-32\"\n            rows={1}\n          />\n          <button\n            onClick={handleSendMessage}\n            disabled={isLoading || !message.trim()}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isLoading ? (\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n            ) : (\n              'Send'\n            )}\n          </button>\n        </div>\n        <div className=\"text-xs text-gray-500 mt-2\">\n          Press Enter to send, Shift+Enter for new line\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatInterface;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}